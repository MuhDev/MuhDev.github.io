const projectsData = [
    {
        haveDetails: true,
        image: "https://i.ibb.co/SKQ9wWS/cover.png",
        title: "Qaaf | قاف",
        logoUrl: "https://i.ibb.co/F4Ykh6b/qaaf-logo.png",
        description: "Video Sharing Service is a platform where users can watch, like, share, comment, and upload Quran videos.",
        detailsDscriptionEn: "Qaaf is an app dedicated to Quranic content. With Qaaf, users can access a diverse library of Quran videos, download and upload content, and enjoy background audio playback. The app facilitates personalized experiences with features like favorites, playlists, and history tracking. Users can subscribe to channels, like videos, and loop segments for repeated listening. Qaaf offers a seamless and immersive platform for engaging with Quranic content anytime, anywhere.",
        detailsDscriptionAr: "قاف هو تطبيق مخصص للمحتوى القرآني. مع قاف، يمكن للمستخدمين الوصول إلى مكتبة متنوعة من مقاطع فيديو القرآن الكريم، وتنزيل المحتوى وتحميله، والاستمتاع بتشغيل الصوت في الخلفية. يسهل التطبيق التجارب الشخصية من خلال ميزات مثل المفضلة وقوائم التشغيل وتتبع السجل. يمكن للمستخدمين الاشتراك في القنوات، مثل مقاطع الفيديو، وتكرار المقاطع للاستماع المتكرر. تقدم قاف منصة سلسة وغامرة للتعامل مع المحتوى القرآني في أي وقت وفي أي مكان.",
        date: "2023",
        appImages: [
            "https://i.ibb.co/dMpGVmd/1.png",
            "https://i.ibb.co/j6hwsmN/2.png",
            "https://i.ibb.co/fHDrf93/3.png",
            "https://i.ibb.co/hKFHJm9/4.png",
            "https://i.ibb.co/vxQ6rBJ/5.png",
            "https://i.ibb.co/4MPw862/6.png",
            "https://i.ibb.co/rF6yhbX/7.png"
        ],
        buttons: [
            {
                type: "Google",
                path: "https://play.google.com/store/apps/details?id=com.cliffex.qaaf&hl=ar"
            },
            {
                type: "AppStore",
                path: "https://apps.apple.com/de/app/قاف-qaaf/id6444524406?platform=iphone"
            }
        ]
    },
    {
        haveDetails: true,
        image: "https://i.ibb.co/KqJ8Qb2/cover.png",
        title: "مكارم",
        logoUrl: "https://i.ibb.co/1b7qryz/logo.png",
        description: "Portfolio for a charity agency that has WhatsApp stickers.",
        detailsDscriptionEn: "The business exhibition of Makarem Charity Foundation enables the effective display of the organization's projects, in addition to exporting custom WhatsApp stickers for the foundation.",
        detailsDscriptionAr: "معرض الأعمال لمؤسسة مكارم الخيرية يتيح عرض مشاريع المؤسسة بشكل فعّال، بالإضافة إلى تصدير ملصقات واتساب خاصة بالمؤسسة.",
        date: "2023",
        appImages: [
            "https://i.ibb.co/K2D37K6/1.png",
            "https://i.ibb.co/s9MDB44/2.png",
            "https://i.ibb.co/nDHjppD/3.png",
            "https://i.ibb.co/BySQB2b/4.png",
            "https://i.ibb.co/W3Hf6gH/5.png"
        ],
        buttons: [
            {
                type: "Google",
                path: "https://play.google.com/store/apps/details?id=sa.org.makarem&hl=ar"
            },
            {
                type: "AppStore",
                path: "https://apps.apple.com/au/app/مكارم/id1484245255"
            }
        ]
    },
    {
        haveDetails: true,
        image: "https://i.ibb.co/0hVFYKg/Ask-Ur-Dr-library.png",
        title: "AskUrDr | اسأل طبيبك",
        logoUrl: "https://i.ibb.co/X5GDs90/logo-removebg-preview.png",
        description: "Facilitates Medical Consultations Through Voice and Video Calls.",
        detailsDscriptionEn: "AskUrDr focuses on enhancing the accessibility of medical consultations by incorporating voice and video calls, while also offering a convenient and secure payment option through the integration of HyperPay.",
        detailsDscriptionAr: "يركز تطبيق \"AskUrDr\"  على تعزيز إمكانية الوصول إلى استشارات طبية من خلال إستخدام المكالمات الصوتية والفيديو، كما انه يوفر خيار دفع ملائم وآمن من خلال التكامل مع HyperPay.",
        date: "2022",
        appImages: [
            "https://i.ibb.co/zrTWJNd/1.png",
            "https://i.ibb.co/7k9FWp6/2.png",
            "https://i.ibb.co/fvLwzCh/3.png",
            "https://i.ibb.co/M8NrGWj/4.png",
            "https://i.ibb.co/YyXFrMz/5.png",
            "https://i.ibb.co/KWVkBzR/6.png",
            "https://i.ibb.co/j5XG0gL/7.png",
            "https://i.ibb.co/MD5rC2w/8.png",
            "https://i.ibb.co/j3NYwkw/9.png",
            "https://i.ibb.co/tJCmYHz/10.png",
            "https://i.ibb.co/TT1KV5C/11.png"
        ],
        buttons: [
            {
                type: "Google",
                path: "https://play.google.com/store/apps/details?id=com.askurdr.doctors"
            },
            {
                type: "AppStore",
                path: "https://apps.apple.com/sa/app/askurdr/id1576209992"
            }
        ]
    },
    {
        haveDetails: true,
        image: "https://i.ibb.co/fS5j14B/cashback-library.png",
        title: "CashBack | كاش باك",
        logoUrl: "https://i.ibb.co/K0xFsz2/logo.png",
        description: "Displays Nearby Stores and Restaurants, Providing Exclusive Cashback Deals.",
        detailsDscriptionEn: "\"CashBack\" shows you nearby stores and restaurants, offering exclusive deals with cashback rewards. Integrated with HyperPay for secure transactions, it also features an NFC reader to facilitate payment processes.",
        detailsDscriptionAr: "\"كاش باك\" يظهر لك المتاجر والمطاعم القريبة منك، ويقدم عروض حصرية مع مكافآت نقدية. مُتكامل مع HyperPay لضمان المعاملات الآمنة، كما يتميز بميزة قارئ NFC لتسهيل عمليات الدفع.",
        date: "2023",
        appImages: [
            "https://i.ibb.co/Z8r09tJ/1.png",
            "https://i.ibb.co/k1g78kP/2.png",
            "https://i.ibb.co/zGhnb38/3.png",
            "https://i.ibb.co/sbkRX8W/4.png",
            "https://i.ibb.co/b6fqgcr/5.png",
            "https://i.ibb.co/LR4VzDG/6.png"
        ],
        buttons: [
            {
                type: "Google",
                path: "https://play.google.com/store/apps/details?id=com.fancy.technologies.cashbackapp"
            },
            {
                type: "AppStore",
                path: "https://apps.apple.com/us/app/cashback-%D9%83%D8%A7%D8%B4-%D8%A8%D8%A7%D9%83/id6466800146"
            }
        ]
    },
    {
        haveDetails: true,
        image: "https://i.ibb.co/D73fQ2t/offersapp.png",
        title: "Special Offers",
        logoUrl: "https://i.ibb.co/6mkk6td/icon-foreground.png",
        description: "Flutter & Scraping, Android",
        detailsDscriptionEn: "Special Offers save you time and the hassle of searching for offers by collecting offers from the popular e-commerce's in one application that enables you to browse offers and save them for reference later.",
        detailsDscriptionAr: "العروض الخاصة توفر لك الوقت وعناء البحث عن العروض عبر جمع العروض من التجارة الإلكترونية الشهيرة في تطبيق واحد يمكنك من تصفح العروض وحفظها للرجوع إليها لاحقًا.",
        date: "2021",
        appImages: [
            "https://i.ibb.co/sRCC7Bg/Untitled-1.png",
            "https://i.ibb.co/v1qghCz/products.png",
            "https://i.ibb.co/XJkSV4w/product-Details.png",
            "https://i.ibb.co/DKdwxjn/saved.png"
        ],
        buttons: [
            {
                type: "Uptodown",
                path: "https://special-offers.en.uptodown.com/android"
            }
        ]
    },
    {
        haveDetails: false,
        image: "https://i.ibb.co/VSW1wVQ/CoffeApp.png",
        title: "Coffee App",
        description: "Transform dribble design into Flutter App",
        date: "2021",
        buttons: [
            {
                type: "github",
                path: "https://github.com/MuhDev/CoffeeShopAppDesign"
            }
        ]
    },
    {
        haveDetails: false,
        image: "https://i.ibb.co/CV8KbMM/World-Cup-App.png",
        title: "Qatar World Cup",
        description: "Flutter design challenge",
        date: "2022",
        buttons: [
            {
                type: "github",
                path: "https://github.com/MuhDev/WorldCupApp"
            }
        ]
    },
    {
        haveDetails: false,
        image: "https://i.ibb.co/4445h6y/Travel-App.png",
        title: "Travel App",
        description: "Transform dribble design into Flutter App",
        date: "2022",
        buttons: [
            {
                type: "github",
                path: "https://github.com/MuhDev/TravelAppUi"
            }
        ]
    },
    // ...Add remaining GitHub projects...
];

function createProjectCard(project) {
    return `
        <div class="project-card" ${project.haveDetails ? `onclick="showProjectDetails(${JSON.stringify(project)})"` : ''}>
            <div class="project-image">
                <img src="${project.image}" alt="${project.title}">
            </div>
            <div class="project-content">
                <div class="project-text">
                    <span class="project-title">${project.title}</span>
                    <span class="project-date">${project.date}</span>
                    <p class="project-description">${project.description}</p>
                </div>
                <div class="project-buttons">
                    ${project.buttons.map(btn => createProjectButton(btn)).join('')}
                </div>
            </div>
        </div>
    `;
}

// Initialize projects
document.addEventListener('DOMContentLoaded', () => {
    console.log('Projects script loaded');
    const projectsGrid = document.querySelector('.projects-grid');
    if (projectsGrid) {
        console.log('Found projects grid');
        projectsGrid.innerHTML = projectsData.map(project => createProjectCard(project)).join('');
    } else {
        console.log('Projects grid not found');
    }
});

function createProjectButton(buttonData) {
    const buttonTypes = {
        'Google': { subtitle: 'GET IT ON', title: 'Google Play' },
        'AppStore': { subtitle: 'Download on the', title: 'App Store' },
        'github': { subtitle: 'View project on', title: 'GitHub' },
        'Uptodown': { subtitle: 'Download from', title: 'Uptodown' }
    };

    const buttonInfo = buttonTypes[buttonData.type];
    
    return `
        <a href="${buttonData.path}" class="custom-button" data-type="${buttonData.type}" target="_blank">
            <img class="button-icon" data-type="${buttonData.type}">
            <div class="button-text">
                <span class="button-subtitle">${buttonInfo.subtitle}</span>
                <span class="button-title">${buttonInfo.title}</span>
            </div>
        </a>
    `;
}

function showProjectDetails(project) {
    const dialog = document.createElement('dialog');
    dialog.className = 'project-dialog';
    
    // Add responsive classes based on screen width
    if (window.innerWidth <= 430) {
        dialog.classList.add('mobile');
    } else if (window.innerWidth <= 797) {
        dialog.classList.add('tablet');
    } else {
        dialog.classList.add('desktop');
    }

    const buttons = project.buttons.map(btn => createProjectButton(btn)).join('');
    
    dialog.innerHTML = `
        <div class="dialog-content">
            <div class="dialog-header">
                <img src="${project.logoUrl}" alt="${project.title}" class="project-logo">
                <h3>${project.title}</h3>
            </div>
            <div class="project-images">
                ${project.appImages.map(img => `<img src="${img}" alt="Screenshot">`).join('')}
            </div>
            <div class="dialog-text">
                <p>${project.detailsDscriptionAr}</p>
            </div>
            <div class="dialog-buttons">
                ${buttons}
            </div>
        </div>
    `;

    document.body.appendChild(dialog);
    dialog.showModal();

    dialog.addEventListener('click', (e) => {
        if (e.target === dialog) dialog.close();
    });
}
